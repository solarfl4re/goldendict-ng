{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Getting started","text":"<p>This is the Next Generation GoldenDict.</p> <p>The Best Multi-format Cross-platform Open-Source Dictionaries Lookup Program.</p>"},{"location":"#screenshots","title":"Screenshots","text":"<p>On Windows 11 with default theme:</p> <p></p> <p>On macOS with dark reader mode and native system dark theme </p> <p></p> <p>On Linux with custom Qt color theme</p> <p></p>"},{"location":"#project-history","title":"Project history","text":"<p>This project is forked from the original GoldenDict which was developed at http://goldendict.org/</p>"},{"location":"custom_dictionary/","title":"Customize Dictionary","text":"<p>A <code>metadata.toml</code>, which uses toml format, can be used to customize or override some properties of a certain dictionary. It is also used in auto grouping by metadata</p> <p>The <code>metadata.toml</code> should be placed on each dictionary's root folder (beside dictionary files) like</p> <pre><code>.\n\u251c\u2500\u2500 Cambridge\n\u2502    \u251c\u2500\u2500 metadata.toml &lt; here\n\u2502    \u251c\u2500\u2500 Cambridge.idx\n\u2502    \u251c\u2500\u2500 Cambridge.info\n\u2502    \u251c\u2500\u2500 Cambridge.syn\n\u2502    \u2514\u2500\u2500 Cambridge.dict.dz    \n\u2514\u2500\u2500 Collins\n     \u251c\u2500\u2500 metadata.toml &lt; here\n     \u251c\u2500\u2500 res.zip\n     \u2514\u2500\u2500 Collins.dsl \n</code></pre>"},{"location":"custom_dictionary/#override-display-name","title":"Override display name","text":"<p>Some dictionary formats' display is embedded inside the dictionary, which cannot be easily changed, but you can add the following to override it.</p> <pre><code>[metadata]\nname = \"New Name\"\n</code></pre> <p>This <code>New Name</code> will be appeared as the dictionary name.</p>"},{"location":"custom_dictionary/#disable-full-text-search","title":"Disable full-text search","text":"<pre><code>fts=false\n\n[metadata]\nname=\"New Name\"\n</code></pre> <p>The <code>fts</code> field's value can be <code>on/off</code>, <code>1/0</code> ,<code>true/false</code> etc.</p> <p><pre><code>fts=false\n</code></pre> will disable the current dictionary's full-text search.</p> <p>You can check the full-text search status on each dictionary's info dialog.</p> <p></p>"},{"location":"developer/","title":"Developer","text":"<p>Developing GoldenDict is not hard.</p> <p>If you know some C++ and optionally some Qt, you can start to modify GoldenDict right now:</p> <ul> <li>Install Qt and QtCreator</li> <li>(On Linux, install dependencies)</li> <li>Load <code>goldendict.pro</code> or <code>CMakeLists.txt</code></li> <li>Modify some code</li> <li>Hit the <code>Run</code>.</li> </ul>"},{"location":"developer/#coding-standards","title":"Coding Standards","text":"<p>Please follow C++ Core Guidelines and write modern C++ code.</p> <p>Commit messages should follow Conventional Commits</p> <p>Reformat changes with <code>clang-format</code> how to use clang-format</p> <p>Remember to enable <code>clang-tidy</code> support on your editor so that <code>.clang-tidy</code> will be respected.</p>"},{"location":"developer/#architecture","title":"Architecture","text":"<p>What's under the hood after a word is queried?</p> <p>After typing a word into the search box and press enter, the embedded browser will load <code>gdlookup://localhost?word=&lt;wantted word&gt;</code>. This url will be handled by Qt webengine's Url Scheme handler. The returned html page will be composed in the ArticleMaker which will initiate some DataRequest on dictionary formats. Resource files will be requested via <code>bres://</code> or <code>qrc://</code> which will went through a similar process.</p> <p>TODO: other subsystems.</p>"},{"location":"dictformats/","title":"Dictionary Formats","text":"<p>Popular dictionary formats are all supported.</p>"},{"location":"dictformats/#local-dictionaries-sources","title":"Local Dictionaries Sources","text":"<ul> <li>MDict dictionaries (.mdx/.mdd)</li> <li>StarDict dictionaries (.ifo/.dict./.idx/.syn)</li> <li>DSL dictionaries (ABBYY Lingvo source files .dsl(.dz))</li> <li>Xdxf dictionaries (.xdxf(.dz))</li> <li>Zim dictionaries (.zim)</li> <li>Slob (Aard 2) dictionaries (.slob)</li> <li>DictD dictionaries (.index/.dict(.dz))</li> <li>Epwing dictionaries</li> <li>Aard Dictionary dictionaries, outdated predecessor of Slob (.aar)</li> <li>SDictionary dictionaries (.dct)</li> <li>Babylon glossary builder source files (.gls(.dz))</li> <li>Babylon dictionaries, complete support with images and resources (.BGL)</li> <li> <p>ABBYY Lingvo sound archives (.lsa/.dat)</p> </li> <li> <p>Sound files in separate folders. File names are used as word</p> </li> <li>Zipped sound pack. Sound files zipped, but with extension changed from .zip to (.zips)</li> </ul>"},{"location":"dictformats/#network-sources","title":"Network Sources","text":"<ul> <li>Wikipedia and Wiktionary</li> <li>DICT protocol</li> <li>LinguaLibre/Forvo pronunciations</li> <li>Any sites which allow set target word in address line</li> </ul>"},{"location":"dictformats/#other-sources","title":"Other Sources","text":"<p>Programs</p> <p>Any external apps can be added by setting a launch command. The <code>%GDWORD%</code> will be replaced by word from search line. If command line don't contains such template the word will be fed into standard input stream in 8-bit current locale encoding.</p> Type Notes Audio Application play sound. A sound icon will be provided as article, click it will trigger the program. Text Application output some plain text in 8-bit current locale encoding into standard output stream. This text will be shown as separate article. Html Application output some html code into standard output stream. This code will be shown as separate article. Prefix Application output some word list into standard output stream. This list will be added in common matches list. <p>System Text-to-speech engines</p> <p>Its capability is provided via Qt Speech.</p> <p>On Windows &amp; macOS, the system provides sounds.</p> <p>On Linux, speech-dispatcher and flite are the backends.</p>"},{"location":"dictformats/#additional-info","title":"Additional info","text":""},{"location":"dictformats/#converting-between-formats","title":"Converting between formats","text":"<p>Goldendict does not provide any dictionary modification functionality.</p> <p>To convert between formats, try tools like pyglossary.</p>"},{"location":"dictformats/#individual-dictionary-icons","title":"Individual Dictionary Icons","text":"<p>Every local dictionary can have individual icon. BMP, PNG, JPG or ICO files can be used for this icon.</p> <p>For Babylon, StarDict, DictD, ABBYY Lingvo, AardDictionary, SDictionary, Zim, MDict, Lsa, Zips, Slob, Gls dictionaries such graphics file must be named by main dictionary file name and places beside one. That is if main file of your dictionary, for example, named \"My_best_dictionary.dsl\" therefore icon file must be named \"My_best_dictionary.bmp\" (.png, .jpg etc.).</p> <p>For Xdxf dictionaries icon file must be named \"icon16.png\" (for 16\u044516 images) or \"icon32.png\" (for 32\u044532 images) and placed into dictionary folder.</p> <p>For Epwing dictionaries icon file must be named by name of folder with dictionary data beside \"catalogs\" file (a few folders can be presented, every folder is separate dictionary) and placed beside \"catalogs\" file.</p> <p>If individual icon is not presented the default icon for this type of dictionaries will be used.</p>"},{"location":"dictformats/#stardict","title":"Stardict","text":"<p>Main file of Stardict dictionary (.dict) can be compressed by Dictzip program to reduce its size.</p> <p>Additional dictionary resources (images, style sheets, etc.) placed in \"res\" folder also can be compressed into zip archive. This archive must be named \"res.zip\" and placed beside other dictionary files or inside \"res\" folder.</p>"},{"location":"dictformats/#abbyy-lingvo-dsl","title":"ABBYY Lingvo (.dsl)","text":"<p>Main file of ABBYY Lingvo dictionary (.dsl) can be compressed by Dictzip program to reduce its size.</p> <p>Additional dictionary resources (images, sound files, etc.) also can be compressed into zip archive. This archive must be named on main dictionary file name (include extension) with adding \".files.zip\" and placed beside other dictionary files. If main file of your dictionary, for example, named \"My_best_dictionary.dsl\" therefore archive with resources must be named \"My_best_dictionary.dsl.files.zip\".</p> <p>GoldenDict supports the \"#SOUND_DICTIONARY\" directive. Sounds missing in the resources of the dictionary will be searched first in the dictionary specified in this directive.</p>"},{"location":"dictformats/#dictd-xdxf","title":"DictD, Xdxf","text":"<p>Main file of DictD dictionary (.dict) or Xdxf dictionary (.xdxf) can be compressed by Dictzip program to reduce its size.</p>"},{"location":"dictformats/#slob","title":"Slob","text":"<p>GoldenDict can render formulas in TeX format via Mimetex program. Just place \"mimetex.cgi\" file beside GoldenDict executable file.</p>"},{"location":"dictformats/#gls","title":"GLS","text":"<p>Main file of Babylon source dictionary must be in UTF-8 (or UTF-16 with BOM) encoding. It can be compressed by Dictzip program to reduce its size. Golden Dict read from dictionary header \"### Glossary title:\", \"### Author:\", \"### Description:\", \"### Source language:\" and \"### Target language:\" fields only. Dictionary header must be concluded with \"### Glossary section:\" mark.</p>"},{"location":"dictformats/#abbyy-lingvo-sound-archives","title":"ABBYY Lingvo sound archives","text":"<p>ABBYY Lingvo sound archives are set of sound files packed into one file of some specific format. These files can be called directly from matches list or from dictionary articles.</p>"},{"location":"dictformats/#sound-files-in-separate-folders","title":"Sound files in separate folders","text":"<p>The separate folder with sound files can be added into GoldenDict dictionaries list. GoldenDict will handle this folders like ABBYY Lingvo sound archives (inapplicable in portable mode).</p>"},{"location":"dictformats/#zips-sound-packs","title":"Zips sound packs","text":"<p>Zips sound pack is zip archive with extension \".zips\" contains set of sound files. To create suck pack it needs to compress sound files into zip archive and change extension of this archive to \".zips\". GoldenDict will handle such sound packs like ABBYY Lingvo sound archives.</p>"},{"location":"dictformats/#general-notes","title":"General notes","text":"<p>At every launch GoldenDict scan folders with dictionaries to create dictionaries list. The more files in these folder is the more time for scanning. Therefore it is recommended to compress dictionary resources into zip archives and to use Zips sound packs instead of sound files in separate folders.</p>"},{"location":"feedbacks/","title":"Report Bugs & Feedbacks","text":""},{"location":"feedbacks/#suggestions-ideas","title":"Suggestions &amp; Ideas","text":"<p>Send them to Discussions</p>"},{"location":"feedbacks/#bugs","title":"Bugs","text":"<p>Report any bugs &amp; dysfunctions to issues list</p> <p>Attach your version info in menu \"About\" -&gt; \"Copy version info\".</p> <p>Goldendict can be started with \"--log-to-file\" that will creates \"gd_log.txt\" in configuration folder and store various warnings, errors and debug messages.</p> <p>On windows, try open command line and starts goldendict with <code>goldendict --log-to-file</code>.</p> <p>If certain dictionary lead to problems, please attach the dict files in bug reports.</p>"},{"location":"feedbacks/#linuxsystemd","title":"Linux/Systemd","text":"<p>Most distros with systemd have systemd-coredump service enabled. Attach a core dump if possible.</p> <p>https://wiki.archlinux.org/title/Core_dump#Making_a_core_dump</p>"},{"location":"feedbacks/#macos","title":"macOS","text":"<p>macOS have a built-in crash reporter, copy all the info in the crash window.</p>"},{"location":"install/","title":"Installation","text":""},{"location":"install/#download","title":"Download","text":"<ul> <li>Latest stable version </li> <li>Daily pre-release builds.</li> </ul> <p>Both Qt5 and Qt6 builds are provided.</p>"},{"location":"install/#windows","title":"Windows","text":"<p>Choose either</p> <ul> <li><code>****-installer.exe</code> for traditional installer experience</li> <li><code>****.zip</code> for simply unzip and run experience</li> </ul> <p>If Qt's version is not changed, you can also download a single <code>goldendict.exe</code> and drop it into previous installation's folder.</p>"},{"location":"install/#linux","title":"Linux","text":"<ul> <li>See the right side for available packages in various Linux distros.</li> <li>In Gnu Guix, goldendict-ng is available at the ajattix repository</li> <li>In Debian 12 and Ubuntu 23.04, <code>goldendict-webengine</code> is available (For later versions it is <code>goldendict-ng</code>).</li> <li>Pre-built binary is also available from archlinuxcn's repo.</li> <li>Gentoo package from PG_Overlay</li> </ul>"},{"location":"install/#macos","title":"macOS","text":"<p>One of the <code>.dmg</code> installers.</p>"},{"location":"manage_groups/","title":"Groups","text":"<p>At <code>Edit</code> -&gt; <code>Dictioanries</code> -&gt; <code>Groups</code>, you can create and edit dictionary groups.</p> <p>To add a dictionary into a group, just drag it from the dictionary list into the group window on the right. To remove a dict, just drag it back to the dictionary list. Hold <code>Shift</code> to select a range of dictionaries or hold <code>Ctrl</code> to select multiple dictionaries.</p> <p>Additionally, multiple strategies of automatic grouping are provided:</p> <ul> <li>based on the language info embedded within dictionary files</li> <li>based on the folder structure</li> <li>based on customizable metadata files</li> </ul>"},{"location":"manage_groups/#auto-groups-by-dictionary-language","title":"Auto groups by dictionary language","text":"<p>When group by dictionary language, the language is taken from dictionary's built-in metadata which has been embed when creating dictionary.</p> <p>If the language is not present in the dictionary, it will try to detect the language from the dictionary file name.</p> <p>Then use the founded language to create dictionary groups.</p> <p>Groups created in this method also include a context menu when rich click the group name, in which you can do additional dictionaries grouping by source or target language and combine dictionaries in more large groups.</p>"},{"location":"manage_groups/#auto-groups-by-folders","title":"Auto groups by folders","text":"<p>Click the \"Group by folders\" will group your dicts based on folder structure.</p> <p>Two dictionaries will be in the same group if their container folder's direct parent is the same.</p> <p></p> <p>For example, the structure below will be auto grouped into two groups:</p> <ul> <li><code>English&lt;&gt;Chinese</code> with <code>Cambridge</code>, <code>Collins</code> and <code>Oxford</code></li> <li><code>English&lt;&gt;Russian</code> with <code>dictA</code>, <code>dictB</code>, <code>Wikipedia_ru</code> and <code>Wikipedia</code></li> </ul> <pre><code>.\n\u251c\u2500\u2500 English&lt;&gt;Chinese\n\u2502   \u251c\u2500\u2500 Cambridge\n\u2502   \u2502   \u251c\u2500\u2500 Cambridge.dict.dz\n\u2502   \u2502   \u251c\u2500\u2500 Cambridge.idx\n\u2502   \u2502   \u251c\u2500\u2500 Cambridge.info\n\u2502   \u2502   \u2514\u2500\u2500 Cambridge.syn\n\u2502   \u251c\u2500\u2500 Collins\n\u2502   \u2502   \u251c\u2500\u2500 Collins.dsl\n\u2502   \u2502   \u2514\u2500\u2500 res.zip\n\u2502   \u2514\u2500\u2500 Oxford\n\u2502       \u251c\u2500\u2500 Oxford.css\n\u2502       \u251c\u2500\u2500 Oxford.mdd\n\u2502       \u2514\u2500\u2500 Oxford.mdx\n\u2514\u2500\u2500 English&lt;&gt;Russian\n    \u251c\u2500\u2500 dsl\n    \u2502   \u251c\u2500\u2500 dictA.dsl\n    \u2502   \u2514\u2500\u2500 dictB.dsl\n    \u2514\u2500\u2500 zim\n        \u251c\u2500\u2500 Wikipedia_ru.slob\n        \u2514\u2500\u2500 Wikipedia.zim\n</code></pre> <p>Note that if two groups share the same name but in different folder, then upper level's folder name will be prepended with group name. The Example below will be grouped into <code>epistularum/Japanese</code> and <code>Mastameta/Japanese</code>.</p> <p>More levels of folder nesting are not supported.</p> <pre><code>.\n\u251c\u2500epistularum\n\u2502   \u2514\u2500Japanese   &lt;- Group\n\u2502       \u2514\u2500DictA  &lt;- Dict Files's container folder\n|          \u2514\u2500 DictA Files\n\u251c\u2500Mastameta\n\u2502   \u2514\u2500Japanese   &lt;- Group\n|       \u2514\u2500DictB  &lt;- Dict Files's container folder\n|          \u2514\u2500 DictB Files  \n</code></pre>"},{"location":"manage_groups/#auto-groups-by-metadatatoml","title":"Auto groups by <code>metadata.toml</code>","text":"<p>Click the \"group by metadata\" will group your dicts based on <code>metadata.toml</code>.</p> <p>The <code>metadata.toml</code> should be placed beside dictionary files. One <code>metadata.toml</code> for each dictionary.</p> <p>The metadata file uses TOML format.</p> <pre><code>categories = [ \"English\", \"Russian\", \"Chinese\" ]\n\n# the following `langfrom` , `langto` fields have not been supported yet.\n[metadata]\nname = \"New Name\"\nlangfrom = \"English\"\nlangto = \"Russian\"\n</code></pre> <p>For example,</p> <pre><code>.\n\u251c\u2500\u2500 Cambridge\n\u2502    \u251c\u2500\u2500 metadata.toml     (A)\n\u2502    \u251c\u2500\u2500 Cambridge.idx\n\u2502    \u251c\u2500\u2500 Cambridge.info\n\u2502    \u251c\u2500\u2500 Cambridge.syn\n\u2502    \u2514\u2500\u2500 Cambridge.dict.dz    \n\u2514\u2500\u2500 Collins\n     \u251c\u2500\u2500 metadata.toml\n     \u251c\u2500\u2500 res.zip\n     \u2514\u2500\u2500 Collins.dsl       (B)  \n</code></pre> <p>The content of the metadata <code>(A)</code> is <pre><code>categories = [\"en-zh\", \"\u6c49\u82f1\u8bcd\u5178\"]\n</code></pre></p> <p>The content of the metadata <code>(B)</code> is <pre><code>categories = [\"\u56fe\u7247\u8bcd\u5178\", \"en-zh\", \"\u6c49\u82f1\u8bcd\u5178\"]\n</code></pre></p> <p>The structure above will be auto grouped into three groups:</p> <ul> <li><code>en-zh</code> with <code>Cambridge</code>, <code>Collins</code></li> <li><code>\u56fe\u7247\u8bcd\u5178</code> with <code>Collins</code></li> <li><code>\u6c49\u82f1\u8bcd\u5178</code> with <code>Cambridge</code>,<code>Collins</code></li> </ul> <p>Note: Dictionaries without <code>metadata.toml</code> won't be auto-grouped.</p>"},{"location":"manage_sources/","title":"Sources","text":"<p>Dictionaries management dialog can be opened via menu <code>Edit</code> -&gt; <code>Dictionaries</code>.</p> <p>To use local dictionaries, add them via <code>Sources</code> -&gt; <code>Files</code>.</p> <p>To inspect or disable individual dictionaries, go <code>Edit</code> -&gt; <code>Dictionaries</code> -&gt; <code>Dictionaries</code>.</p> <p>If you have too many dictionaries, consider use <code>Groups</code> to manage them.</p>"},{"location":"manage_sources/#files","title":"Files","text":"<p>Here you can add local dictionaries.</p> <p>Press the \"Add\" button and select folders that includes your local dictionaries. To search every subfolders, enable the \"Recursive\".</p> <p>GoldenDict will scan these folders and add found dictionaries into dictionaries list.</p> <p>\"Rescan\" button start forced scan of all folders in list.</p>"},{"location":"manage_sources/#sound-dirs","title":"Sound Dirs","text":"<p>Similar to Files, you can either add a folder which contains sound files or a <code>.zip</code> archive which contains the sound files.</p> <p>Goldendict will search through the sound file names when querying words.</p>"},{"location":"manage_sources/#morphology","title":"Morphology","text":"<p>Here you can turn on/off morphology dictionaries. </p> <p>You can specify a path that includes Hunspell format data files (.aff + .dic).</p> <p>GoldenDict scan this folder and create list of available dictionaries. To turn on dictionary just set mark in corresponding column.</p>"},{"location":"manage_sources/#websites","title":"Websites","text":"<p>Here you can add any website which allow to set target word in url. To add such site you should set it url with target word template, name for dictionaries list and set mark in \"Enabled\" column. In the \"Icon\" column you can set custom icon for this site. If you add icon file name without path GoldenDict will search this file in configuration folder. \"As link\" column define method of article insertion into common page. If this option is set article will be inserted as link inside <code>&lt;iframe&gt;</code> tag (preferable mode). If articles are not loaded in this mode turn this option off, then articles will be inserted as html-code.</p> <p>Target word can be inserted into url in next encodings::</p> Target word template Encoding %GDWORD% UTF-8 %GD1251% Windows-1251 %GDISO1% ... %GDISO16% ISO 8859-1 ... ISO 8859-16 respectively %GDBIG5% Big-5 %GDBIG5HKSCS% Big5-HKSCS %GDGBK% GBK and GB 18030 %GDSHIFTJIS% Shift-JIS"},{"location":"manage_sources/#dict-servers","title":"DICT servers","text":"<p>Here you can add servers which uses DICT protocol. To add such server you should set its url, name for dictionaries list, server bases list, search strategies list and set mark in \"Enabled\" column. If bases list is empty GoldenDict will use all server bases. If search strategies list is empty GoldenDict will use \"prefix\" strategy (comparing the first part of the word).</p> <p>In the \"Icon\" column you can set custom icon for every server. If you add icon file name without path GoldenDict will search this file in configuration folder.</p>"},{"location":"manage_sources/#programs","title":"Programs","text":"<p>Here you can add external applications. To add such application you should set command line for its launch, name for dictionaries list and application type. The <code>%GDWORD%</code> template in command line will be replaced by word from search line. If command line don't contains such template the word will be fed into standard input stream in 8-bit current locale encoding.</p> Application type The purpose of application Audio Application play sound. Text Application output some plain text in 8-bit current locale encoding into standard output stream. This text will be shown as separate article. Html Application output some html code into standard output stream. This code will be shown as separate article. Prefix Application output some word list into standard output stream. This list will be added in common matches list. <p>In the \"Icon\" column you can set custom icon for every application. If you add icon file name without path GoldenDict will search this file in configuration folder.</p>"},{"location":"manage_sources/#transliteration","title":"Transliteration","text":"<p>Here you can add transliteration algorithms. To add algorithm into dictionaries list just set mark beside it. When such dictionary added into current dictionaries group GoldenDict will search word in the input line as well as result of its handling by corresponding transliteration algorithm.</p>"},{"location":"topic_anki/","title":"Anki Integration","text":""},{"location":"topic_anki/#prerequisite","title":"prerequisite","text":"<ol> <li>install anki</li> <li>install ankiconnect</li> </ol>"},{"location":"topic_anki/#configure-anki","title":"configure anki","text":""},{"location":"topic_anki/#1-create-a-new-model-or-use-an-existing-model","title":"1. create a new model, or use an existing model","text":"<p>For example, the model could have <code>Front</code> and <code>Back</code> fields.</p> <p></p>"},{"location":"topic_anki/#2-configure-the-template","title":"2. configure the template","text":"<p>the front template</p> <p> the back template</p> <p></p>"},{"location":"topic_anki/#configure-goldendict","title":"configure goldendict","text":""},{"location":"topic_anki/#1-through-toolbarpreferencenetwork","title":"1. through toolbar=&gt;preference=&gt;network","text":"<ul> <li>Word - Vocabulary headword.</li> <li>Text - Selected definition.</li> <li>Sentence - Search string. You can leave it blank.</li> </ul> <p>Example for adding Japanese sentences: </p>"},{"location":"topic_anki/#2-action","title":"2. action","text":""},{"location":"topic_anki/#3-result","title":"3. result","text":"<p>Word and definition: </p> <p>Sentence, word, and definition: </p>"},{"location":"topic_anki/#using-uri-schemes","title":"Using URI schemes","text":"<p><code>goldendict://word</code> link can be use to query a word directly on Goldendict.</p> <p>On your Anki card's template, you can add the code below to have a \"1 click open in Goldendict\" card.</p> <pre><code>&lt;a href=\"goldendict://{{Front}}\"&gt;{{Front}}&lt;/a&gt;\n</code></pre> <p>Note that this feature doesn't available on macOS </p>"},{"location":"topic_commandline/","title":"Command Lines","text":"<p>You can send word to mainwindow to popup via <code>goldendict &lt;word&gt;</code>.</p>"},{"location":"topic_commandline/#command-line-options","title":"Command Line Options","text":"<pre><code>Usage: goldendict [options] [word]\n\nOptions:\n-h, --help                               Displays help on commandline\noptions.\n--help-all                               Displays help including Qt specific\noptions.\n-l, --log-to-file                        Save debug messages to gd_log.txt in\nthe config folder.\n-g, --group-name &lt;groupName&gt;             Change the group of main window.\n-p, --popup-group-name &lt;popupGroupName&gt;  Change the group of popup.\n\nArguments:\nword                                     Word or sentence to query.\n</code></pre>"},{"location":"topic_portablemode/","title":"Portable mode","text":"<p>Usually GoldenDict store all program settings and dictionary indexes in home folder of current user. In portable mode program settings and dictionary indexes stored in <code>portable</code> folder beside the main program file. This mode suit for using of GoldenDict with common settings directly from flash drive on different computers.</p> <p>To turn on portable mode it needs only create <code>portable</code> folder beside the main program file. If such folder exists GoldenDict will launched in portable mode.</p> <p>In portable mode GoldenDict works with some limitations:</p> <p>You can't select folders with dictionaries. All dictionaries should be placed in <code>content</code> folder beside the main program file and/or its subfolders. You can't use sound files in separate folders.</p>"},{"location":"topic_transliteration/","title":"Custom Transliteration","text":"<p>This will enable users to configure their own transliteration if the provided transliteration can not meet the requirements.</p> <p></p> <p>This is the result after configured <code>ae;\u00e6</code></p> <p></p>"},{"location":"topic_userstyle/","title":"Custom Stylesheet & JavaScript","text":"<p>By creating <code>article-style.css</code> or <code>article-script.js</code> in GoldenDict's configuration folder (beside the <code>config</code> file), you can change dictionaries' presentation or inject javascript to dictionaries.</p> <p>The <code>article-style.css</code> is just standard HTML Style Sheets. To know class or id names used in article, you can open inspector by right click article's body and click <code>Inspect (F12)</code>. The inspector's documentation can be found at Chrome DevTools</p> <p>You can adjust dark reader mode's parameter by add those lines to <code>article-script.js</code></p> <pre><code>DarkReader.enable({\n    brightness: 100,\n    contrast: 100,\n    sepia: 0,\n    grayscale: 0,\n});\n</code></pre> <p>Also, you can tune GoldenDict's interface by creating <code>qt-style.css</code> style sheet file in GoldenDict configuration folder. It is a Qt Style Sheet loaded during startup.</p> <p>Samples of <code>article-style.css</code> and <code>qt-style.css</code> files can found in GoldenDict's source code at /src/stylesheets</p>"},{"location":"topic_wayland/","title":"Wayland","text":"<p>Environment variable <code>GOLDENDICT_FORCE_WAYLAND</code> can be used to force GD to run in Wayland mode, like <code>env GOLDENDICT_FORCE_WAYLAND=1 goldendict</code>.</p> <p>Don't use unless you know!</p> <p>This flag only guarantees GD to run in wayland mode and won't crash, but nothing more.</p> <p>Enable this will break scan popup, global hotkeys and probably other things.</p>"},{"location":"topic_wayland/#current-reality","title":"Current reality","text":"<p>Help wanted</p> <p>Need help to redesign scan popup for wayland.</p> <p>Scan popup is implemented with <code>querying mouse cursor's position</code> and <code>setting a window's absolute global position</code>. Wayland does not support both by design and philosophy.</p> <p>Wayland does not support registering global hotkeys until very recently, but a reasonable wayland desktop environment should provide some way to bind keys to commands globally.</p>"},{"location":"ui_favorites/","title":"Favorites","text":"<p>Favorites is a hierarchical structure of folders and headers in them. Folders can be bound to specific groups of dictionaries. The folder is bound to the group if it is specified in the settings of the corresponding group. The headwords opened in that group will be stored to this folder. Accordingly headwords from this folder will be opened in that group. If the folder is not bound to any group of dictionaries then headwords from it will be opened in the current group.</p> <p>Favorites allows you to create folders manually via context menu, to move/add items to them simply by dragging and dropping as well as to delete selected items via context menu or by pressing the \"Del\" key.</p> <p>In addition to adding and removing items to/from the Favorites you can perform the following operations via context menu or the main menu:</p> <ul> <li>\"Export\" - the Favorites contents will be exported to the specified XML file while preserving the entire structure.</li> <li>\"Export to plain list\" - all headwords stored in the Favorites will be saved to the specified text file as plain list without saving the folder structure.* * \"Import\" - the current contents of the Favorites will be replaced by the contents of the specified XML file.</li> </ul>"},{"location":"ui_fulltextsearch/","title":"Full Text Search","text":"<p>The full-text search dialog can be opened via menu \"Search\" or \"Ctrl+Shift+F\".</p> <p>Full-text search allow to search words or sentences not in dictionary headwords but in articles text of dictionaries from current dictionaries group.</p> <p></p> <p>Type the desired word in \"Search line\" to search.</p> <p>Search modes</p> <ul> <li>\"Default\" \u2014 This follows the xapian search syntax. Note that phrase searching and NEAR operator needs <code>Enable index with positional information</code> enabled at settings.</li> <li>\"Plain text\" - mode like \"Whole words\" but every word in search line can be treated as word fragment.</li> <li>\"Wildcards\" - the search line contains a Unix-like template. Such template can contain wildcard symbols <code>?</code> (matches any one character), <code>*</code> (matches any character number) or ranges of characters <code>[...]</code> To find characters <code>?</code>, <code>*</code>, <code>[</code> and <code>]</code> it should be escaped by backslash like <code>\\?</code>, <code>\\*</code>, <code>\\[</code>, <code>\\]</code>.</li> </ul> <p>\"Available dictionaries in group\" - here you can view how many dictionaries in the current group are suitable for full-text search, how many dictionaries already indexed and how many dictionaries wait for indexing.</p> <p>When you place mouse cursor over headword in results list, the tooltip with dictionary list contains such articles matched the search conditions will be shown.</p> <p>Note</p> <p>The dictionary will index for full-text search in background and started immediately after program start, name of the currently indexing dictionary is displayed in the status line. This process can take a long time and require many computing resources.You may turn off indexing for huge dictionaries like Wikipedias or Wiktionaries in preferences. To find dictionary which can't be indexed check GoldenDict with <code>--log-to-file</code> or check <code>stdout</code>.</p>"},{"location":"ui_headwords/","title":"Headwords Dialog","text":"<p>View the unique headwords list for local dictionary.</p> <p></p> <p>The headwords dialog can be opened via:</p> <ul> <li>context menu of dictionaries list</li> <li>context menu of icon on dictionaries bar in GoldenDict toolbar</li> <li>context menu of dictionaries list in navigation pane</li> </ul> <p>The filter line allow to filter dictionaries list to remain only necessary headwords. Such filtration can be completed in next modes:</p> Mode Filtration type Plain text Headword contains string from filter line. Wildcards Headword matched to Unix-like template from filter line. Such template can contain wildcard symbols <code>?</code> (matches any one character), <code>*</code> (matches any characters number) or ranges of characters <code>[...]</code> To find characters <code>?</code>, <code>*</code>, <code>[</code> and <code>]</code> it should be escaped by backslash - <code>\\?</code>, <code>\\*</code>, <code>\\[</code>, <code>\\]</code>. RegExp Headword matched to regular expression from filter line. <p>If option \"Auto apply\" is turned on any changes in filter line will be applied to headwords list immediately. Otherwise you should press \"Apply\" button to apply changes. If dictionary contains more than 150000 headwords the \"Auto apply\" option is disabled.</p> <p>If option \"Match case\" is turned on the matches search will be completed in the case-sensitive mode, otherwise in case-insensitive mode.</p> <p>The \"Export\" button allow to export the filtered headwords list to text file.</p> <p>Press \"Ctrl+N\" shortcut if you want to switch focus to main GoldenDict window. Press \"Ctrl+D\" to switch focus from main window to headwords dialog.</p>"},{"location":"ui_popup/","title":"Popup Window","text":"<p>Popup window is a mini window can be used for rapid translation.</p> <p>Enable it by click the \ud83d\udca1 (enable scanning) on the toolbar or using the context menu of tray icon.</p> <p>When copying text (clipboard changed), the popup will be displayed near your cursor. </p>"},{"location":"ui_popup/#linux","title":"Linux","text":"<p>On linux/X11, the text selection can also trigger popup window. You have to enable it in preferences.</p>"},{"location":"ui_popup/#notes","title":"Notes","text":"<p>The popup will also be shown if it is enabled and you use command line <code>goldendict &lt;word&gt;</code>.</p>"},{"location":"ui_popup/#using-popup-in-conjunction-with-other-applications","title":"Using Popup in conjunction with other applications","text":"<p>Help wanted to expand this section</p>"},{"location":"ui_popup/#capture2text","title":"capture2text","text":"<p>TODO</p>"},{"location":"ui_popup/#autohotkey","title":"AutoHotKey?","text":"<p>TODO</p>"},{"location":"ui_popup/#macos-applescript-hammerspoon","title":"macOS applescript? hammerspoon?","text":"<p>TODO</p>"},{"location":"ui_popup/#kdegnome-command-shortcuts","title":"kde/gnome command shortcuts?","text":"<p>TODO</p>"},{"location":"ui_shortcuts/","title":"Shortcuts","text":"Shortcut Action Alt++ Increase font size for matches list Alt+\u2013 Decrease font size for matches list Alt+0 Restore default font size for matches list Alt+Left, Backspace (In main and popup windows) history navigation: show previous founded results Alt+Right (In main and popup windows) history navigation: show next founded results Alt+Down Jump to article from next dictionary Alt+Up Jump to article from previous dictionary Alt+Enter, Ctrl+Enter (Search line) Show translation in new tab Alt+D, Ctrl+L (In main and popup windows) go to search line Alt+G (In main and popup windows) choose dictionaries group from group list Alt+S (In main and popup windows) playback pronunciation for current word Alt+W (In popup window) transfer word from search line to main window Alt+PgDown (In main and popup windows) switch to next dictionaries group Alt+PgUp (In main and popup windows) switch to previous dictionaries group Ctrl++ Increase articles font size Ctrl+\u2013 Decrease articles font size Ctrl+0 Set default articles font size Ctrl+MouseWheel Increase/decrease articles font size Ctrl+A Select all articles in current page Ctrl+C Copy selected Ctrl+D Switch to dictionary headwords dialog (if it is open) Ctrl+E Add current tab to Favorites Ctrl+F4 (Main window) minimize to system tray Ctrl+F5 Rescan dictionaries Ctrl+F (In main and popup windows) search in page / (In dictionaries dialog) go to filter line Ctrl+H Show/hide history pane Ctrl+I Show/hide Favorites pane Ctrl+M Show/hide main menu Ctrl+N (In dictionary headwords dialog and full-text search dialog) switch to main window Ctrl+O Above all windows Ctrl+P (In main window) print current article Ctrl+Q (In main window) close GoldenDict Ctrl+R Show/hide results pane Ctrl+S Show/hide search pane Ctrl+T (In main window) create new tab Ctrl+W (In main window) close current tab Ctrl+PgDown (In main window) switch to next tab Ctrl+PgUp (In main window) switch to previous tab Ctrl+Tab (In main window) switch to next tab (can be changed in preferences) Ctrl+Shift+A Select current article only Ctrl+Shift+C Copy selected as text Ctrl+Shift+F Open/switch to full-text search dialog Ctrl+Shift+W Close all tabs Ctrl+Shift+S Stop current playing sound Del (History) delete select line Enter (In main window) go to search line Esc (In main window) go to search line (the action for Esc key can be changed in preferences) / (in popup window) close popup window F1 GoldenDict reference F2 (In main window) save current page to html F3 Dictionaries dialog F4 GoldenDict preferences F12 Inspector"},{"location":"ui_shortcuts/#solo-mode-in-the-dictionary-bar","title":"Solo mode in the dictionary bar","text":"<p>Ctrl+Click, Enter solo mode, toggle between single &amp; all dictionaries Shift+Click, Exit solo mode, restore the previous dictionaries.</p> <p>For example, there are 4 dictionaries A,B,C,D with ABC selected. | Cases|   Note| |--------|--------| | Ctrl+Click A|select A only| | Ctrl+Click A, Ctrl+Click B | select B only| | Ctrl+Click A, Ctrl+Click A | A,B,C,D selected(all dictionaries selected)| | Ctrl+Click A, Shift+Click any dictionary| A,B,C selected |</p>"},{"location":"ui_toolbar/","title":"ToolBar & DictBar","text":""},{"location":"ui_toolbar/#toolbar","title":"Toolbar","text":"<p>From left to right:</p> <ul> <li>Forward/Backward navigation buttons;</li> <li>Group selector</li> <li>Search Line</li> <li>Toggle Scanning</li> <li>Play the first pronunciation in found articles;</li> <li>Font scale buttons;</li> <li>Save the article as HTML</li> <li>Print article</li> <li>Add to Favorites;</li> </ul> <p>Type your word in Search Box and press <code>Enter</code> to search word in the current selected group. You can also choose a variant from matches list.</p> <p>If Ctrl or Shift key has been pressed the new tab for translation will be created.</p>"},{"location":"ui_toolbar/#wildcard-matching","title":"Wildcard matching","text":"<p>The Search Line can contain wildcard symbols <code>?</code> (matches any one character), <code>*</code> (matches any characters number) or ranges of characters <code>[...]</code>. To find characters <code>?</code>, <code>*</code>, <code>[</code> and <code>]</code> it should be escaped with backslash like <code>\\?</code>, <code>\\*</code>, <code>\\[</code>, <code>\\]</code>.</p> <p>Note</p> <p>The wildcard symbol at first position in word leads to full headwords list scanning and it may take a long time for huge dictionaries.</p>"},{"location":"ui_toolbar/#dictionary-bar","title":"Dictionary Bar","text":"<p>The dictionaries bar contains all dictionaries from current dictionaries group. Click the icons to disable/enable them.</p> <p>Hold <code>Shift</code> and click dictionary bar will temporally focus on a single dictionary. Hold <code>Shift</code> and click again to defocus and restore the previous dictionaries bar state.</p> <p>Hold <code>Ctrl</code> and click dictionary bar will toggle between \"Enable a single dictionary\" and \"Enable all dictionary\".</p> <p>Note: The <code>Shift</code> and <code>Ctrl</code> interaction can also be used on \"Found in dictionaries\" panel</p>"},{"location":"howto/build_from_source/","title":"Build from source","text":""},{"location":"howto/build_from_source/#dependencies","title":"Dependencies","text":"<ul> <li>C++17 compiler</li> <li>Latest QT6</li> <li>Various libraries for Linux &amp; macOS, see below</li> <li>On Windows all the libraries are included in the repository</li> </ul> <p>For debian/ubuntu, those packages are needed</p> <pre><code>libavformat-dev libavutil-dev libbz2-dev libeb16-dev libhunspell-dev \\\nliblzma-dev liblzo2-dev libopencc-dev libvorbis-dev \\ \nlibx11-dev libxtst-dev libzim-dev libzstd-dev qt6-5compat-dev \\\nqt6-base-dev qt6-multimedia-dev qt6-speech-dev qt6-svg-dev \\\nqt6-tools-dev qt6-tools-dev-tools qt6-webchannel-dev \\\nqt6-webengine-dev x11proto-record-dev zlib1g-dev\n</code></pre> <p>In other words, those libraries</p> <ul> <li>Qt6 (with webengine)</li> <li>ffmpeg</li> <li>libzim</li> <li>xapian</li> <li>hunspell</li> <li>opencc</li> <li>libeb</li> <li>libvorbis</li> <li>x11 (linux only)</li> </ul> <p>And a few compression libraries:</p> <ul> <li>xz (lzma)</li> <li>bzip2</li> <li>lzo2</li> <li>zlib</li> </ul>"},{"location":"howto/build_from_source/#cmake-build","title":"CMake Build","text":"<pre><code>cd goldendict-ng &amp;&amp; mkdir build_dir\n# config step\ncmake -S . -B build_dir \\\n      --install-prefix=/usr/local/ \\\n      -DCMAKE_BUILD_TYPE=Release\n# actual build\ncmake --build build_dir --parallel 7\n\ncmake --install ./build_dir/\n</code></pre>"},{"location":"howto/build_from_source/#feature-flags","title":"Feature flags","text":"<p>Append <code>-D{flag_names}=ON/OFF</code> to cmake's config step</p> <p>Available flags can be found on the top of <code>CMakeLists.txt</code></p>"},{"location":"howto/build_from_source/#windows","title":"Windows","text":"<p>Install Qt6(msvc) through the standard installer and pass Qt's path to CMake</p> <pre><code>-DCMAKE_PREFIX_PATH=F:\\Qt\\6.4.1\\msvc2019_64\n</code></pre> <p>The built artifacts will end up in <code>build_dir/goldendict</code></p> <p>To run the built <code>goldendict.exe</code> directly, you have to add <code>F:\\Qt\\6.5.2\\msvc2019_64\\bin</code> to your PATH environment variable</p> <p>To have a redistributable goldendict (runable on someone else's computer by just copying the folder), you can build the deployment target which will copy necessary files to the folder</p> <pre><code>cmake --build . --target windeploy\n</code></pre> <p>The <code>build_dir/goldendict</code> will be ready to share with others.</p> <p>Use<code>windeployqt.exe {your_build_dir}/goldendict.exe</code> which will copy the qt related <code>.dll</code> and other necessary files automatically.</p>"},{"location":"howto/build_from_source/#macos","title":"macOS","text":"<p>Similar to Linux build, but need <code>macdeployqt ./goldendict.app</code> to copy necessary dependencies to the app bundle.</p>"},{"location":"howto/build_from_source/#qmake","title":"Qmake","text":"<pre><code>git clone https://github.com/xiaoyifang/goldendict-ng.git\n</code></pre>"},{"location":"howto/build_from_source/#build-steps","title":"Build Steps","text":"<p>Notice: All additional configs for <code>qmake</code> that must be combined in one  of pass config options to <code>qmake</code>: <pre><code>qmake6 \"CONFIG+=release\"\nmake\n</code></pre></p> <p>For ARM macOS, <code>QMAKE_APPLE_DEVICE_ARCHS=\"arm64\"</code> should be passed to qmake.</p>"},{"location":"howto/build_from_source/#building-with-chinese-conversion-support","title":"Building with Chinese conversion support","text":"<p>To add Chinese conversion support you need at first install libopencc-dev package, then pass <code>\"CONFIG+=chinese_conversion_support\"</code> to <code>qmake</code>.</p> <pre><code>sudo apt-get install libopencc-dev\n</code></pre>"},{"location":"howto/build_from_source/#building-with-zim-dictionaries-support","title":"Building with Zim dictionaries support","text":"<p>To add Zim formats support you need <code>libzim</code>, then pass <code>\"CONFIG+=zim_support\"</code> to <code>qmake</code></p> <p>Note: Some linux distros do not support latest zim version, so you need to compile from latest source. On Windows,  you can use vcpkg to compile the libzim <pre><code>vcpkg install libzim:x64-windows\n</code></pre> and copy the corresponding(debug/release) library to the <code>winlibs/lib</code> folder. the zim's <code>include</code> directory to the <code>winlibs/include</code> directory.</p>"},{"location":"howto/build_from_source/#building-without-epwing-format-support","title":"Building without Epwing format support","text":"<p>If you have problem building with libeb-dev package, you can pass <code>\"CONFIG+=no_epwing_support\"</code> to <code>qmake</code> in order to disable Epwing format support</p>"},{"location":"howto/build_from_source/#building-without-internal-audio-players","title":"Building without internal audio players","text":"<p>If you have problem building with FFmpeg (for example, very old linux distro), you can pass <code>\"CONFIG+=no_ffmpeg_player\"</code> to <code>qmake</code> in order to disable FFmpeg internal audio player back end.</p> <p>If you have problem building with Qt5 Multimedia or experience GStreamer run-time errors (for example, Ubuntu 14.04), you can pass <code>\"CONFIG+=no_qtmultimedia_player\"</code> to <code>qmake</code> in order to disable Qt Multimedia internal audio player back end.</p>"},{"location":"howto/build_from_source/#building-with-xapian","title":"Building with xapian","text":"<p>build xapian from source, download and extract the xapian-core source code.</p> <pre><code>./configure\nmake \nmake install\n</code></pre> <p>On Windows, <code>vcpkg install xapian:x64-windows</code> and copy the libs/dlls into the <code>winlibs</code> A precompiled version of xapian lib has provided in winlibs.</p> <p>On Linux,  install libxapian-dev package using package manager.</p> <p>On Mac, use homebrew to install xapian <code>brew install xapian</code></p> <p>Goldendict-ng has used xapian as the default and the only one fulltext engine.</p>"},{"location":"howto/build_from_source/#use-iconv-recommend-to-enable","title":"use iconv (recommend to enable)","text":"<p>use <code>CONFIG+=use_iconv</code> to enable this feature. when enabled ,iconv will be used to convert encoding other than the QTextCodec(which will be deprecated in future Qt version)</p> <pre><code>qmake \"CONFIG+=use_iconv\"\n</code></pre> <p>when enabled ,iconv should be installed on the platform at the same time.</p>"},{"location":"howto/build_from_source/#use-breakpad","title":"use breakpad","text":"<p>use <code>CONFIG+=use_breakpad</code> to enable this crash dump. when enabled breakpad, goldendict will generate a crash dump alongside with Goldendict in the <code>crash</code> directory.</p> <p>on Windows: <code>vcpkg install breakpad:x64-windows-release</code> and copy the installed packages into <code>thirdparty/breakpad</code> directory. with a structure like this: <pre><code>\u251c\u2500breakpad\n\u2502  \u251c\u2500include\n\u2502  \u2502  \u251c\u2500client\n\u2502  \u2502  \u2502  \u2514\u2500windows\n\u2502  \u2502  \u2502      \u251c\u2500common\n\u2502  \u2502  \u2502      \u251c\u2500crash_generation\n\u2502  \u2502  \u2502      \u251c\u2500handler\n\u2502  \u2502  \u2502      \u2514\u2500sender\n\u2502  \u2502  \u251c\u2500common\n\u2502  \u2502  \u2502  \u2514\u2500windows\n\u2502  \u2502  \u2514\u2500google_breakpad\n\u2502  \u2502      \u251c\u2500common\n\u2502  \u2502      \u2514\u2500processor\n\u2502  \u2514\u2500lib\n</code></pre></p> <p>on Mac/Linux: vcpkg can also be used or you can just install breakpad from source or use precompiled packages. </p> <p>Then enable google breakpad like this with qmake:</p> <pre><code>qmake \"CONFIG+=use_breakpad\"\n</code></pre>"},{"location":"howto/build_from_source/#build-with-tts-disabled","title":"build with tts disabled","text":"<p><code>CONFIG+=no_tts_support</code> will disable the QTextToSpeech feature.</p>"},{"location":"howto/build_from_source/#build-with-vs2019","title":"Build with VS2019","text":"<p>VS2019 support CMake project, open the source directory directly then you go.</p>"},{"location":"howto/build_from_source/#build","title":"build","text":"<p>After successful build, run windeployqt.exe(bundled with Qt installation) in the target folder (where GoldenDict.exe is located), which will copy all necessary files to this folder. You can click on the exe to verify that the application can be run.</p> <p>After all this, you can debug the application normally.</p>"},{"location":"howto/how%20to%20add%20a%20program%20as%20dictionary/","title":"How to add a program or script to the goldendict-ng","text":"<p>GoldenDict has offered a program dictionary function that allow you to customize the user experience when using the this software.</p>"},{"location":"howto/how%20to%20add%20a%20program%20as%20dictionary/#an-example","title":"An example","text":"<p>tokenize the input german sentence into words.</p>"},{"location":"howto/how%20to%20add%20a%20program%20as%20dictionary/#use-python-script","title":"use python script","text":"<p>You can use any script language or program to implement this feature.</p>"},{"location":"howto/how%20to%20add%20a%20program%20as%20dictionary/#install-python","title":"install python","text":""},{"location":"howto/how%20to%20add%20a%20program%20as%20dictionary/#install-somajo","title":"install SoMaJo","text":"<p>you can follow the instructions in the documentation https://github.com/tsproisl/SoMaJo?tab=readme-ov-file#installation</p> <p><code>pip install -U SoMaJo</code></p>"},{"location":"howto/how%20to%20add%20a%20program%20as%20dictionary/#create-a-script","title":"create a script","text":"<pre><code>from somajo import SoMaJo\nimport sys\n\ntokenizer = SoMaJo(\"de_CMC\", split_camel_case=True)\n\n# note that paragraphs are allowed to contain newlines\nparagraphs = [sys.argv[1]]\nsentences = tokenizer.tokenize_text(paragraphs)\nfor sentence in sentences:\n    for token in sentence:\n        if token.token_class=='regular':\n            print(f\"{token.text}\")\n</code></pre> <p>and save the script in the E:\\test.py for example.</p>"},{"location":"howto/how%20to%20add%20a%20program%20as%20dictionary/#add-the-script-to-the-program-dictionary","title":"add the script to the program dictionary","text":"<p> <code>python e:\\test.py %GDWORD%</code></p>"},{"location":"howto/how%20to%20add%20a%20program%20as%20dictionary/#the-result","title":"the result","text":""},{"location":"howto/how%20to%20build%20ffmpeg%20for%20visual%20studio/","title":"Use vcpkg to build ffmpeg(on Windows).","text":"<p>Steps:</p> <ol> <li> <p>follow the instructions at https://trac.ffmpeg.org/wiki/CompilationGuide/vcpkg</p> </li> <li> <p>run the command  <pre><code>vcpkg.exe install ffmpeg[core,avcodec,avdevice,avfilter,avformat,speex,avresample,mp3lame,opus,sdl2,swresample,vorbis]:x64-windows-rel \n</code></pre></p> </li> <li> <p>copy dll and libs in vcpkg\\installed\\x64-windows-rel to goldendict's winlibs\\lib\\msvc</p> </li> </ol> <p>Pros: Can be compiled with speex.</p>"},{"location":"howto/how%20to%20build%20ffmpeg%20for%20visual%20studio/#alternative-method","title":"Alternative method","text":"<p>simply download ffmpeg from the official website: https://github.com/BtbN/FFmpeg-Builds/releases Then replace the dlls and libs in the winlibs\\lib\\msvc.</p> <p>Cons: Seems to be missing libspeex or I just downloaded the wrong package.</p> <p>Pros: Easy to manage.</p>"},{"location":"howto/how%20to%20build%20ffmpeg%20for%20visual%20studio/#conan","title":"conan","text":"<p>conan does not seem to have the libspeex option yet.</p>"},{"location":"howto/how%20to%20build%20ffmpeg%20for%20visual%20studio/#links-worth-checking","title":"Links worth checking","text":"<p>https://stackoverflow.com/a/44556505/968188</p>"},{"location":"howto/how%20to%20customize%20the%20opencc/","title":"Customize the opencc","text":"<p>Under the opencc folder ,these are the opencc configuration files.</p> <p>the following three files are currently been used in GoldenDict. <pre><code>s2tw.json\ns2hk.json\nt2s.json\n</code></pre> - how to specify other configuration files?</p> <ol> <li>create a custom file ,such as custom.txt</li> </ol> <p></p> <ol> <li>modify the *.json file, add add the new custom.txt to the configuration .</li> </ol> <p></p> <p>any other valid opencc configuration solutions should also work here.</p>"},{"location":"howto/how%20to%20debug%20dictionary%20js/","title":"How to debug dictionary javascript","text":"<ul> <li>How to debug dictionary javascript</li> <li>background</li> <li>goldendict-ng inspector</li> <li>How to navigate to the specified element</li> <li>Modify the css style</li> <li>check javascript events</li> <li>reproduce the issue in the goldendit</li> </ul>"},{"location":"howto/how%20to%20debug%20dictionary%20js/#background","title":"background","text":"<p>When some js functions do not work as expected, this article tries to give a debug solution to pinpoint the problem.</p>"},{"location":"howto/how%20to%20debug%20dictionary%20js/#goldendict-ng-inspector","title":"goldendict-ng inspector","text":"<p>Goldendict-ng has embedded an inspector, you can trigger it manually using <code>F12</code>.</p> <p>Screenshot: </p>"},{"location":"howto/how%20to%20debug%20dictionary%20js/#how-to-navigate-to-the-specified-element","title":"How to navigate to the specified element","text":"<p>Click the find element and move mouse to the specified element, click the element will navigate the source panel to the very place. </p>"},{"location":"howto/how%20to%20debug%20dictionary%20js/#modify-the-css-style","title":"Modify the css style","text":"<p>you can play around with the css to modify the appearance of the html and check the results.</p> <p></p>"},{"location":"howto/how%20to%20debug%20dictionary%20js/#check-javascript-events","title":"check javascript events","text":"<ul> <li>navigate to the specified element</li> <li>check eventlisterner panel</li> <li>pay attention to the click events</li> <li>in the following screenshot ,there are two registered event listeners, one from the goldendict <code>gd-custom.js</code> and one from the html itself.</li> <li>click the above event listener location will locate to the right place in the javascript.</li> </ul> <p>If some desired event does not triggered , it can first check does the event listeners has been successfully registered. then set a breakpoint in the right place to check whether the event has been triggered and if it can executed successfully. </p>"},{"location":"howto/how%20to%20debug%20dictionary%20js/#reproduce-the-issue-in-the-goldendit","title":"reproduce the issue in the goldendit","text":"<p>following your normal operations and debugging the javascript code and pay attention to the console output. Whether any errors happened. </p>"},{"location":"howto/how%20to%20find%20out%20the%20latest%20qt%20version%20and%20module%20in%20github%20qt%20action/","title":"Qt version and github action","text":"<p>the github action use https://github.com/jurplel/install-qt-action to manage qt version</p> <p>how to find out the latest qt version and modules</p> <p>there are several commands </p> <pre><code>pip install aqt\naqt list-qt linux desktop\naqt list-qt linux desktop --arch 6.4.3\naqt list-qt linux desktop --modules 6.4.3 gcc_64\n</code></pre>"},{"location":"howto/how%20to%20update%20crowdin.ts%20file/","title":"How to update the crowdin.ts file","text":"<p>This project uses crowdin to organize all the transactions.When some new transactions items are added.The crowdin.ts file needs to be updated to reflect the changes.   Then crowdin will automatically generate all other transactions in different languages(Though all these translations still need to be translated manually or by Machine Translation).</p>"},{"location":"howto/how%20to%20update%20crowdin.ts%20file/#how-to-update-the-crowdints-file","title":"how to update the crowdin.ts file","text":"<pre><code>lupdate-pro.exe -no-obsolete -no-ui-lines -locations none goldendict.pro -ts locale\\crowdin.ts\n</code></pre> <p>the option <code>-no-obsolete</code>  will remove obsolete items from crowdin.ts file.</p> <p>the option <code>-no-ui-lines</code> will not generate line numbers in the crowdin.ts file.  The line numbers changes too often which will make too much code changes  between commits.</p>"},{"location":"howto/how%20to%20use%20.clang-format%20to%20format%20the%20code/","title":"Goal","text":"<p>the project has included a .clang-format as the code guideline.</p>"},{"location":"howto/how%20to%20use%20.clang-format%20to%20format%20the%20code/#how-to-use-this-file","title":"How to use this file","text":""},{"location":"howto/how%20to%20use%20.clang-format%20to%20format%20the%20code/#commandline","title":"CommandLine","text":"<p>Stash changes via <code>git add files</code> then <code>git-clang-format</code></p> <p>https://clang.llvm.org/docs/ClangFormat.html#git-integration</p>"},{"location":"howto/how%20to%20use%20.clang-format%20to%20format%20the%20code/#qtcreator","title":"QtCreator:","text":"<p>Check the steps in the following webpage. https://doc.qt.io/qtcreator/creator-indenting-code.html#automatic-formatting-and-indentation</p>"},{"location":"howto/how%20to%20use%20.clang-format%20to%20format%20the%20code/#visual-studionewer-version","title":"Visual Studio(Newer Version)","text":"<p>visual studio will automatically detect this file and apply the format guideline.</p>"},{"location":"howto/how%20to%20use%20.clang-format%20to%20format%20the%20code/#fix-warnings-reported-by-sonarcloud","title":"Fix  warnings reported by SonarCloud","text":"<p>After PR submitted , a SonarCloud analysis will take place. Fix all the warnings introduced by your PR. Previous code may also have many warnings ,can be left alone. </p>"},{"location":"howto/how%20to%20use%20breadpad%20crash%20analysis/","title":"Breadpad crash analysis","text":""},{"location":"howto/how%20to%20use%20breadpad%20crash%20analysis/#introduction","title":"Introduction","text":"<p>Goldendict-ng has provide an option to build the application with breakpad</p> <p><code>CONFIG+=use_breakpad</code> to enable this feature.</p> <p>Currently only Windows release has built with breakpad support,for other platforms , you can enable the feature manually.</p>"},{"location":"howto/how%20to%20use%20breadpad%20crash%20analysis/#how-to-analyze-the-dump-created-by-breakpad","title":"How to analyze the dump created by breakpad.","text":"<p>When a crash is encountered, a dump file is generated under the folder <code>crash</code>.Take the dump file as <code>a.dmp</code> for following example.</p> <ol> <li><code>dump_syms.exe GoldenDict.pdb &gt; GoldenDict.sym</code> The content of GoldenDict.sym is like this: <pre><code>MODULE windows x86_64 904B2C52C1EC411D9D0271445CAD6DCD2 GoldenDict.pdb\nINFO CODE_ID 645510C96CC000 GoldenDict.exe\n</code></pre></li> <li>create a folder such as <code>symbols</code>  and a series of folders like this: <pre><code>GoldDict.exe\na.dmp                 (A)\nsymbols\n\u2514\u2500GoldenDict.pdb    (B)\n    \u2514\u2500904B2C52C1EC411D9D0271445CAD6DCD2   (C)\n         \u2514\u2500GoldenDict.sym\n</code></pre></li> <li><code>A</code>   this is the dump file</li> <li><code>B</code>   this is a folder name</li> <li> <p><code>C</code>   this folder takes the name from the first line of <code>GoldenDict.sym</code> file</p> </li> <li> <p>anlaysis the dump file like this <pre><code>minidump_stackwalk.exe  -s a.dmp symbols &gt; a.txt\n</code></pre></p> </li> <li>check the a.txt file to find the possible crash reason. usually it will point to the actual crash line number of the source code.</li> </ol>"},{"location":"howto/how%20to%20use%20breadpad%20crash%20analysis/#note","title":"Note","text":"<p>The tools can be downloaded from minidump-tools</p>"},{"location":"howto/ocr/","title":"OCR Integration","text":""},{"location":"howto/ocr/#current-situation","title":"Current Situation","text":"<p>GoldenDict offered a functionality to translate the word under cursor on Windows in the past, but the technique used there is old and does not work crossplatformly.</p> <p>However, any OCR program that allows you to set \"after capturing action\" can be easily used in conjunction with GoldenDict.</p> <p>A few examples are provided below, but there are many options:</p>"},{"location":"howto/ocr/#capture2text","title":"Capture2Text","text":"<p>Capture2Text can call executable after capturing, and you can set the executable to GoldenDict.</p> <p>Detailed usage document: Capture2Text</p> <p>Capture2Text Download</p> <p>For example, change the Output action <code>Call Executable</code> to <code>path_to_the_GD_executable\\GoldenDict.exe \"${capture}\"</code></p> <p>Then press Win+Q and select a region. After capturing a word, Capture2Text will forward the word to GoldenDict. If GoldenDict's scanpopup is enabled, it will show up.</p> <p></p> <p>The hotkeys can be configured:</p> <p></p> <p>Capture2Text can also obtain word near cursor without selecting a region via the \"Forward Text Line Capture\" by pressing  Win+W  <p>you may want to enable \"First word only\" so that only a single word would be captured</p> <p></p>"},{"location":"howto/ocr/#use-capture2text-on-linux","title":"Use Capture2Text on Linux","text":"<p>Capture2Text does not have Linux version, but I have ported it to Linux https://github.com/xiaoyifang/Capture2Text thanks to Capture2Text Linux Port and sikmir.</p> <p></p>"},{"location":"howto/ocr/#shortcutsapp-apples-ocr","title":"Shortcuts.app &amp; Apple's OCR","text":"<p>Enable the Clipboard monitoring of GoldenDict, then create a \"Shorcut\" that will interactively take screnshot and change the clipboard.</p> <p></p> <p>You may also add additional capiblities like only getting the first word</p> <p></p>"},{"location":"howto/ocr/#tesseract-via-command-line","title":"Tesseract via command line","text":"<p>On Linux, you can combine command line screenshot then pass the output image to Tesseract then pass the text result to <code>goldendict</code></p> <p>Example with spectacle (KDE) and grim (wayland/wlroots)</p> <pre><code>#!/usr/bin/env bash\n\nset -e\n\ncase $DESKTOP_SESSION in\n    sway)\n        grim -g \"$(slurp)\" /tmp/tmp.just_random_name.png\n    ;;\n    plasmawayland | plasma)\n        spectacle --region --nonotify --background \\\n        --output /tmp/tmp.just_random_name.png\n    ;;\n    *)\n        echo \"Failed to know desktop type\"\n        exit 1\n    ;;\nesac\n\n# note that tesseract will apppend .txt to output file\ntesseract /tmp/tmp.just_random_name.png /tmp/tmp.just_random_name --oem 1  -l eng\n\ngoldendict \"$(cat /tmp/tmp.just_random_name.txt)\"\n\nrm /tmp/tmp.just_random_name.png\nrm /tmp/tmp.just_random_name.txt\n</code></pre>"}]}